<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Musical</title>
    <script>
        async function actualizarDatos() {
            const response = await fetch('/datos');
            const datos = await response.json();

            const tabla = document.getElementById('datos-tabla');
            tabla.innerHTML = '<tr><th>Tecla</th><th>Frecuencia</th><th>Nota</th><th>Correcta</th><th>Timestamp</th></tr>';

            datos.forEach(dato => {
                const row = tabla.insertRow();
                row.insertCell(0).innerText = dato.tecla;
                row.insertCell(1).innerText = dato.frecuencia;
                row.insertCell(2).innerText = dato.nota;
                row.insertCell(3).innerText = dato.correcta ? 'SÃ­' : 'No';
                row.insertCell(4).innerText = dato.timestamp;
            });
        }

        setInterval(actualizarDatos, 1000);
    </script>
</head>
<body onload="actualizarDatos()">
    <h1>Datos en Tiempo Real</h1>
    <table id="datos-tabla" border="1">
        <tr>
            <th>Tecla</th>
            <th>Frecuencia</th>
            <th>Nota</th>
            <th>Correcta</th>
            <th>Timestamp</th>
        </tr>
    </table>
</body>
</html>
